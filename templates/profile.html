{% extends "base.html" %}

{% block title %}My Profile - FitApply{% endblock %}

{% block content %}
<div class="profile-container">
    <!-- Sidebar -->
    <div class="profile-sidebar">
        <img src="{{ user.profile_image }}" alt="{{ user.full_name }}" class="profile-image">
        <h2 class="profile-name">{{ user.full_name }}</h2>
        <p class="profile-email">{{ user.email }}</p>
        
        <div style="text-align: left; margin-top: 24px;">
            <div style="margin-bottom: 16px;">
                <strong style="color: var(--primary);">üìç Location:</strong><br>
                <span style="color: #6b7280;">{{ user.location or 'Not specified' }}</span>
            </div>
            <div style="margin-bottom: 16px;">
                <strong style="color: var(--primary);">üìû Phone:</strong><br>
                <span style="color: #6b7280;">{{ user.phone or 'Not specified' }}</span>
            </div>
            <div>
                <strong style="color: var(--primary);">üìÖ Joined:</strong><br>
                <span style="color: #6b7280;">{{ user.created_at.strftime('%d %b %Y') }}</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="profile-main">
        <h2>Edit Profile</h2>

        <form method="POST" action="{{ url_for('update_profile') }}">
            <div class="form-group">
                <label for="full_name">Full Name *</label>
                <input type="text" id="full_name" name="full_name" value="{{ user.full_name }}" required maxlength="100">
            </div>

            <div class="form-group">
                <label for="email">Email Address *</label>
                <input type="email" id="email" name="email" value="{{ user.email }}" disabled style="background: var(--light); cursor: not-allowed;">
                <small style="color: #6b7280;">Email cannot be changed</small>
            </div>

            <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" name="phone" value="{{ user.phone or '' }}" placeholder="+1 (555) 000-0000">
            </div>

            <div class="form-group">
                <label for="location">Location</label>
                <input type="text" id="location" name="location" value="{{ user.location or '' }}" placeholder="City, Country">
            </div>

            <div class="form-group">
                <label for="bio">Bio / About You</label>
                <textarea id="bio" name="bio" placeholder="Tell us about yourself, your skills, and professional interests..." style="min-height: 120px;">{{ user.bio or '' }}</textarea>
            </div>

            <button type="submit" class="btn">Save Changes</button>
        </form>

        <!-- Application Stats -->
        <h2 style="margin-top: 40px;">Application Statistics</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px; margin-top: 20px;">
            <div style="background: var(--light); padding: 16px; border-radius: 8px; text-align: center;">
                <div style="font-size: 1.8rem; font-weight: 700; color: var(--primary);">0</div>
                <div style="color: #6b7280; font-weight: 600;">Profile Views</div>
            </div>
            <div style="background: var(--light); padding: 16px; border-radius: 8px; text-align: center;">
                <div style="font-size: 1.8rem; font-weight: 700; color: var(--success);">0</div>
                <div style="color: #6b7280; font-weight: 600;">Accepted</div>
            </div>
            <div style="background: var(--light); padding: 16px; border-radius: 8px; text-align: center;">
                <div style="font-size: 1.8rem; font-weight: 700; color: var(--warning);">0</div>
                <div style="color: #6b7280; font-weight: 600;">Pending</div>
            </div>
        </div>

        <!-- Account Settings -->
        <h2 style="margin-top: 40px;">Account Settings</h2>
        
        <div style="background: #fff3cd; padding: 16px; border-radius: 8px; border-left: 4px solid var(--warning); margin-top: 20px;">
            <p style="color: #856404; margin-bottom: 12px;"><strong>‚ö†Ô∏è Account Management</strong></p>
            <p style="color: #856404; margin-bottom: 12px;">To change your password or delete your account, please <a href="{{ url_for('help') }}" style="color: #856404; font-weight: 600;">contact support</a>.</p>
        </div>
    </div>
</div>
{% endblock %}
